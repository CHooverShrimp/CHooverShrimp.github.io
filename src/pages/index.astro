---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
---

<Layout title="PTS v. irl">
	<div class="curtain-container">
		<div class="curtain-left">
			<img src="/Curtain.svg" alt="Left Curtain" />
		</div>
		
		<div class="curtain-right">
			<img src="/Curtain.svg" alt="Right Curtain" />
		</div>
		
		<div id="enter-button-wrapper" >
			<button id="enter-button">
				<img src="/Ticket.svg" alt="Enter" width="400" height="219" />
			</button>
		</div>
	</div>

	<main>
		<div class="falling-image" id="falling-image"></div>
	</main>
</Layout>

<script src="/js/curtain.js" type="module"></script>

<style>
	:root {
  --elastic: linear( 0, .0009 8.51%, -.0047 19.22%, .0016 22.39%, .023 27.81%, .0237 30.08%, .0144 31.81%, -.0051 33.48%, -.1116 39.25%, -.1181 40.59%, -.1058 41.79%, -.0455, .0701 45.34%, .9702 55.19%, 1.0696 56.97%, 1.0987 57.88%, 1.1146 58.82%, 1.1181 59.83%, 1.1092 60.95%, 1.0057 66.48%, .986 68.14%, .9765 69.84%, .9769 72.16%, .9984 77.61%, 1.0047 80.79%, .9991 91.48%, 1 );
  --sine: linear( 0, .007 5.35%, .0282 10.75%, .0638 16.26%, .1144 21.96%, .1833 28.16%, .2717 34.9%, .6868 62.19%, .775 68.54%, .8457 74.3%, .9141 81.07%, .9621 87.52%, .9905 93.8%, 1 );
  --mouse-x: 50%;
  --mouse-y: 50%
	}

	main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}
	.astro-a {
		position: absolute;
		top: -32px;
		left: 50%;
		transform: translatex(-50%);
		width: 220px;
		height: auto;
		z-index: -1;
	}
	h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.instructions {
		margin-bottom: 2rem;
		border: 1px solid rgba(var(--accent-light), 25%);
		background: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));
		padding: 1.5rem;
		border-radius: 8px;
	}
	.instructions code {
		font-size: 0.8em;
		font-weight: bold;
		background: rgba(var(--accent-light), 12%);
		color: rgb(var(--accent-light));
		border-radius: 4px;
		padding: 0.3em 0.4em;
	}
	.instructions strong {
		color: rgb(var(--accent-light));
	}
	.link-card-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));
		gap: 2rem;
		padding: 0;
	}

	.curtain-container {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100vh;
		z-index: 999;
		overflow: hidden;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.curtain-left, .curtain-right {
		position: relative;
		top: 0;
		height: 100%;
		transition: transform 2s ease-in-out;
		box-shadow: 0px 0px 100px rgba(0, 0, 0, 0.5);
	}

	.curtain-left img, .curtain-right img {
		height: 100%;
		width: auto;
		display: block;
	}

	.curtain-left {
		left: 0;
		transform: translateX(20px);
	}

	.curtain-right {
		right: 0;
		transform: translateX(-20px);
	}

	.falling-image {
    position: absolute;
    top: -400px;
    left: 50%;
    transform: translateX(-50%);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 80%;
    height: 300px;
    transition: top 1s ease-in-out;
    z-index: 900;
    animation: changeImage 0.5s infinite;
	}

	@keyframes changeImage {
		0% {
			background-image: url('/BillBoard1.webp');
		}
		50% {
			background-image: url('/BillBoard2.webp');
		}
		100% {
			background-image: url('/BillBoard1.webp');
		}
	}


	#enter-button-wrapper {
		display: flex;
		justify-content: center;
		align-items: center;
		
		position:absolute;
		left:0;
		right:0;
		bottom:50%;
		rotate:-2deg;
		width:auto;
		margin-left:auto;
		margin-right:auto;
		height:12vh;
		visibility:visible;
		--a: 8deg;
		--r: 1;
		--i: 1;
		transform:perspective(400px) rotate3d(var(--r, 1, -1),0,calc(var(--i, 1) * var(--a)));
		transition:.4s;
		animation-name:jump,rotating;
		animation-duration:1.2s,4s;
		animation-timing-function:cubic-bezier(.77,.01,.25,1),var(--sine);
		animation-delay:3s,1s;
		animation-iteration-count:1,infinite;
		animation-direction:normal,normal;
		animation-fill-mode:forwards,forwards;
		z-index: 1000;
		filter: drop-shadow(0 2px 2px #000);
		background: none;
		border: none; 
  	}

  	#enter-button {
		background: none;
		border: none;
		transition: transform 1s ease, opacity 0.5s ease;
	}

	#enter-button:hover {
		transform: scale(1.2);
	}

	.fade-out {
    opacity: 0;
    transition: opacity 0.5s ease;
	}


	@keyframes floating3 {
		0% {
			transform:translate(0)
		}
		50% {
			transform:translateY(4px)
		}
		to {
			transform:translate(0)
		}
	}
	@keyframes rotating {
		0% {
			rotate:-2deg;
			scale:1
		}
		50% {
			rotate:2deg;
			scale:1.03
		}
		to {
			rotate:-2deg;
			scale:1
		}
	}
	@keyframes jump {
		0% {
			opacity:0
		}
		50% {
			visibility:visible;
			opacity:1
		}
		to {
			visibility:visible;
			opacity:1
		}
	}
</style>
